\documentclass{article}
\usepackage{graphicx}
\usepackage{amsmath} 

\usepackage{pgfplots}
\usepackage{tikz}
\usepackage{nicefrac}
\pgfplotsset{every axis legend/.append style={
at={(0,0)},
anchor=north east}}
\usetikzlibrary{shapes,positioning,intersections,quotes}

\title{Interpolation}
\begin{document}
  \pagenumbering{gobble}
  \maketitle
  \newpage
  \pagenumbering{arabic}

\section*{Introduction}

We have to arrays of numbers $X$ and $Y$. Array $X$ contains independent data points. Array $Y$ contains dependent data points $y_i,i=1,â€¦,m$.

We want to find a function $\hat{y}(x)$, which gets the exact same value with given points.\\


\section*{Linear Interpolation}

Linear interpolation is achieved by connecting two data points with a straight line.

For $x_i < x < x_{i+1}$:

$$\hat{y}(x) = y_i + \frac{(y_{i+1} - y_{i})(x - x_{i})}{(x_{i+1} - x_{i})}.$$

\section*{Derivation}

 
\begin{tikzpicture}

	\draw [dashed]  (-3, -1.8) -- (3, -1.8);
	\draw [dashed]  (3, -5) -- (3, -1.8);
	\draw [-stealth](-3,-5) -- (9,-5);
	\draw [-stealth](-3,-5) -- (-3,1);

    \draw [stealth-stealth, blue](0,-3) -- (8,0);
    \draw [stealth-stealth, red](8,0) -- (8,-3);
    \draw [stealth-stealth, green](0,-3) -- (8,-3);
    \draw [stealth-stealth, black](0,-3.1) -- (3,-3.1);

	\node[above right=0pt of {(8, 0)}, outer sep=2pt,fill=none] {$(x_2, y_2)$};
	\node[above right=0pt of {(8, -1.8)}, outer sep=2pt,fill=none] {$y_2 - y_1$};
	\node[above right=0pt of {(5, -3.6)}, outer sep=2pt,fill=none] {$x_2 - x_1$};
	\node[above right=0pt of {(1, -3.6)}, outer sep=2pt,fill=none] {$x - x_1$};
	\node[above right=0pt of {(-1,-3.7)}, outer sep=2pt,fill=none] {$(x_2, y_2)$};
	\node[above right=0pt of {(-1,-1.7)}, outer sep=2pt,fill=none] {$y$};
	\node[above right=0pt of {(3,-4.2)}, outer sep=2pt,fill=none] {$x$};
	\node[above right=0pt of {(3,-2.7)}, outer sep=2pt,fill=none] {$h$};

\end{tikzpicture}


$$\alpha = \frac{y_2 - y_1}{x_2 - x_1}$$

$$h = \alpha \cdot (x - x_1)$$

$$y = y_1 + h$$

$$y = y_1 + (x - x_1) \cdot \frac{y_2 - y_1}{x_2 - x_1}$$

\section*{Example}

We are given two points A(-2, 0) and B (2, 2).\\

\begin{tikzpicture}
    \begin{axis}[
        axis x line=middle,
        axis y line=middle,
        width=8cm,
        height=8cm,
        xmin=-5,   % start the diagram at this x-coordinate
        xmax= 5,   % end   the diagram at this x-coordinate
        ymin=-5,   % start the diagram at this y-coordinate
        ymax= 5,   % end   the diagram at this y-coordinate
        xlabel=$x$,
        ylabel=$y$,
        legend cell align=left,
        legend pos=south east,
        legend style={draw=none},
        tick align=outside,
        enlargelimits=false]
      % plot the function
      \addplot[domain=-5:5, blue, ultra thick,samples=500] {0.5*x + 1};
      \fill[red] (700,700) circle (3pt);
    	  \fill[red] (300, 500) circle (3pt);
    	  \draw [dashed]  (500, 700) -- (680, 700);
    	  \draw [dashed]  (700, 500) -- (700, 680);
    	  \node[above right=0pt of {(255,510)}, outer sep=2pt,fill=none] {A};
	  \node[above right=0pt of {(655,710)}, outer sep=2pt,fill=none] {B};
	\legend{$\nicefrac{1}{2} \cdot x$ + 1}
    \end{axis}
\end{tikzpicture}

Let's try to evaluate the value of the function at $x=1$

$$\hat{y}(x) = y_i + \frac{(y_{i+1} - y_{i})(x - x_{i})}{(x_{i+1} - x_{i})} = 0 + \frac{(2 - 0)(1 - (-2))}{(2 - (-2))} = 1.5$$

\end{document}